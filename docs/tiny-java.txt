-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


-- | A compiler for a subset of Java
--   
--   This compiler was programmed a part of the "Compilerbau" seminar by
--   Prof. Martin Pl√ºmicke.
@package tiny-java
@version 0.0.0


-- | This module contains definitions and some useful helpers for
--   <a>Compiler.Parser</a>
module Compiler.ParserUtils
type Parser = Parsec Void String

-- | <a>makeSingleton</a> puts the result of a parser into an array
makeSingleton :: Parser a -> Parser [a]

-- | <a>spaceConsumer</a> consumes spaces and comments
spaceConsumer :: Parser ()

-- | <a>lexeme</a> is a wrapper for lexemes that consumes all spaces and
--   comments after a lexeme
lexeme :: Parser a -> Parser a

-- | Symbol
symbol :: String -> Parser String

-- | <a>parens</a> parses something between parenthesis.
parens :: Parser a -> Parser a

-- | <a>braces</a> parses something between parenthesis.
braces :: Parser a -> Parser a

-- | <a>integer</a> parses an integer.
integer :: Parser Integer

-- | <a>semicolon</a> parses a semicolon.
semicolon :: Parser ()

-- | <a>comma</a> parses a comma.
comma :: Parser ()

-- | <a>kword</a> parses a reserved word (keyword).
kword :: String -> Parser ()

-- | <a>binOp</a> defines recursive binary operation with a different
--   parser for the left side.
binOp :: String -> (a -> a -> a) -> Parser a -> Parser a


-- | This module contains the AST
module Compiler.Ast
newtype Identifier
Identifier :: String -> Identifier
data Name
Name :: [Identifier] -> Identifier -> Name
[$sel:path:Name] :: Name -> [Identifier]
[$sel:getIdentifier:Name] :: Name -> Identifier

-- | <a>Class</a> is a java class definition
data Class
Class :: Identifier -> [Mod] -> [Decl] -> Class

-- | <a>Decl</a> are the different types of declaration inside a class
data Decl
Field :: VarDecl -> Decl
Constructor :: Decl
Method :: Identifier -> [Mod] -> Type -> [(Type, Identifier)] -> Maybe Statement -> Decl
[$sel:getIdentifier:Field] :: Decl -> Identifier
[$sel:getMods:Field] :: Decl -> [Mod]
[$sel:getReturnType:Field] :: Decl -> Type
[$sel:getParamList:Field] :: Decl -> [(Type, Identifier)]
[$sel:getBody:Field] :: Decl -> Maybe Statement
voidType :: Name
type Type = Name

-- | <a>VarDecl</a> is used for field definitions and local variable
--   declarations
data VarDecl
VarDecl :: Identifier -> [Mod] -> Type -> (Maybe Expression) -> VarDecl
[$sel:getIdentifier:VarDecl] :: VarDecl -> Identifier
[$sel:getMods:VarDecl] :: VarDecl -> [Mod]
[$sel:getType:VarDecl] :: VarDecl -> Type
[$sel:getRHS:VarDecl] :: VarDecl -> (Maybe Expression)

-- | <a>Expression</a> is something that can be evaluated to a value
data Expression

-- | Short notation if, e.g. <tt>someBool? 42 : 1337</tt>
TernaryIf :: Expression -> Expression -> Expression -> Expression

-- | Primitive binary Operation
PrimBinOp :: BinOp -> Expression -> Expression -> Expression

-- | Primitive unary Operation
PrimUnOp :: UnOp -> Expression -> Expression

-- | this keyword
This :: Expression

-- | A variable
Iden :: Name -> Expression
Select :: Expression -> Identifier -> Expression

-- | All kind of literals
Literal :: Lit -> Expression

-- | A StatementExpression that is in an Expression position
ExprExprStmt :: StmtExpr -> Expression
data Statement
While :: Expression -> Maybe Statement -> Statement
[$sel:getCond:While] :: Statement -> Expression
[$sel:getBody:While] :: Statement -> Maybe Statement
If :: Expression -> (Maybe Statement) -> (Maybe Statement) -> Statement
Block :: [Statement] -> Statement
Return :: (Maybe Expression) -> Statement
LocalVar :: VarDecl -> Statement
StmtExprStmt :: StmtExpr -> Statement
data StmtExpr
Assign :: AssignOp -> Name -> Expression -> StmtExpr

-- | Using new
Instantiation :: Name -> [Expression] -> StmtExpr
Apply :: Expression -> [Expression] -> StmtExpr

-- | UnOp that returns something and has a side effect
SEUnOp :: IncrOrDecr -> Expression -> StmtExpr
data Lit
IntegerL :: Integer -> Lit
BooleanL :: Bool -> Lit
CharL :: Char -> Lit
StringL :: String -> Lit
Null :: Lit
data AssignOp
NormalAssign :: AssignOp
MultiplyAssign :: AssignOp
DivideAssign :: AssignOp
ModuloAssign :: AssignOp
PlusAssign :: AssignOp
MinusAssign :: AssignOp
ShiftLeftAssign :: AssignOp
SignedShiftRightAssign :: AssignOp
USignedShiftRightAssign :: AssignOp
AndAssign :: AssignOp
XOrAssign :: AssignOp
OrAssign :: AssignOp
data BinOp
And :: BinOp
Or :: BinOp
XOr :: BinOp
Eq :: BinOp
Less :: BinOp
LessEq :: BinOp
Greater :: BinOp
GreaterEq :: BinOp
InstanceOf :: BinOp
Multiply :: BinOp
Divide :: BinOp
Add :: BinOp
Subtract :: BinOp
Modulo :: BinOp
data IncrOrDecr
PreIncr :: IncrOrDecr
PostIncr :: IncrOrDecr
PreDecr :: IncrOrDecr
PostDecr :: IncrOrDecr
data UnOp
Not :: UnOp
Neg :: UnOp

-- | Tilde-Operator performs a bitwise complement
BitCompl :: UnOp
data Mod
Public :: Mod
Protected :: Mod
Private :: Mod
Static :: Mod
Abstract :: Mod
instance GHC.Classes.Eq Compiler.Ast.Class
instance GHC.Show.Show Compiler.Ast.Class
instance GHC.Classes.Eq Compiler.Ast.Decl
instance GHC.Show.Show Compiler.Ast.Decl
instance GHC.Classes.Eq Compiler.Ast.Statement
instance GHC.Show.Show Compiler.Ast.Statement
instance GHC.Classes.Eq Compiler.Ast.VarDecl
instance GHC.Show.Show Compiler.Ast.VarDecl
instance GHC.Classes.Eq Compiler.Ast.Mod
instance GHC.Show.Show Compiler.Ast.Mod
instance GHC.Classes.Eq Compiler.Ast.StmtExpr
instance GHC.Show.Show Compiler.Ast.StmtExpr
instance GHC.Classes.Eq Compiler.Ast.Expression
instance GHC.Show.Show Compiler.Ast.Expression
instance GHC.Classes.Eq Compiler.Ast.UnOp
instance GHC.Show.Show Compiler.Ast.UnOp
instance GHC.Classes.Eq Compiler.Ast.IncrOrDecr
instance GHC.Show.Show Compiler.Ast.IncrOrDecr
instance GHC.Classes.Eq Compiler.Ast.BinOp
instance GHC.Show.Show Compiler.Ast.BinOp
instance GHC.Classes.Eq Compiler.Ast.AssignOp
instance GHC.Show.Show Compiler.Ast.AssignOp
instance GHC.Classes.Eq Compiler.Ast.Lit
instance GHC.Show.Show Compiler.Ast.Lit
instance GHC.Classes.Eq Compiler.Ast.Name
instance GHC.Show.Show Compiler.Ast.Name
instance GHC.Classes.Eq Compiler.Ast.Identifier
instance GHC.Show.Show Compiler.Ast.Identifier


-- | This module contains the complete parser
module Compiler.Parser

-- | <a>mods</a> is a list of available modifiers
mods :: [(Mod, String)]

-- | <a>kwords</a> is a list of reserved words (keywords).
kwords :: [String]

-- | <a>identifier</a> parses an identifier.
identifier :: Parser Identifier
program :: Parser [Class]

-- | <a>decls</a> parses class declarations
decls :: Parser [Class]
decl :: Parser Class
modifiers :: Parser [Mod]
modifier :: Parser Mod
bodyDecls :: Parser [Decl]
bodyDecl :: Parser [Decl]
fieldDecl :: Parser [Decl]
varDecls :: [Mod] -> Name -> Parser [VarDecl]
varDecl :: [Mod] -> Name -> Parser VarDecl
expression :: Parser Expression
conditional :: Parser Expression
condOrExpr :: Parser Expression
bOperators :: [[Operator Parser Expression]]
aOperators :: [[Operator Parser Expression]]
unaryExpr :: Parser Expression
castExpr :: Parser Expression
primary :: Parser Expression
literal :: Parser Expression
booleanLit :: Parser Lit
charLit :: Parser Lit
stringLit :: Parser Lit
this :: Parser Expression
instanceCreation :: Parser StmtExpr
classType :: Parser Name
name :: Parser Name
fieldAccess :: Parser Expression
methodInvocation :: Parser StmtExpr
assignment :: Parser StmtExpr
assignmentOp :: Parser AssignOp
constructorDecl :: Parser Decl
methodDecl :: Parser Decl
formalParamList :: Parser [(Type, Identifier)]
block :: Parser Statement
localVarDecl :: Parser [Statement]
statement :: Parser (Maybe Statement)
ifStmt :: Parser Statement
ifThenStmt :: Parser Statement
statementNoShortIf :: Parser (Maybe Statement)
ifThenStmtNoShortIf :: Parser Statement
whileStmt :: Parser Statement
whileStmtNoShortIf :: Parser Statement
statementWithoutTrailing :: Parser (Maybe Statement)
expressionStmt :: Parser Statement
returnStmt :: Parser Statement
typeIden :: Parser Name
